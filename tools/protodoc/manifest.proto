syntax = "proto3";

package tools.protodoc;

import "google/protobuf/struct.proto";

// Additional structure information consumed by protodoc when generating
// documentation for a field.
message Description {
  message EdgeConfiguration {
    // Example secure edge default for the field.
    google.protobuf.Value example = 1;

    // Additional note to include in the configuration warning.
    string note = 2;
  }

  // Additional information for when this field is used in edge deployments.
  EdgeConfiguration edge_config = 1;

  message ExtensionConfiguration {
    // Example extension config for the field.
    google.protobuf.Value example = 1;

    // Additional note to include in the configuration message.
    string note = 2;
  }

  // Name used to refer/link to the extension, eg within categories
  string extension_name = 2;

  // @type
  string type_url = 3;

  // Additional information for when this field is used in extension deployments.
  ExtensionConfiguration extension_config = 4;

  // TODO: add additional information here to reflect things like Envoy
  // implementation status.
}

message Manifest {
  // Map from fully qualified field name to additional information to be used in
  // protodoc generation.
  map<string, Description> fields = 1;
}
